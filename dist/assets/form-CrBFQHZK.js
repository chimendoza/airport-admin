import{W as p}from"./vuejs3-datepicker-1NLZxlC6.js";import{_ as w,o as n,c as i,a as e,f as y,g as m,i as h,b as r,F as C,k,d as _,t as v,r as V,w as U,p as I,h as N,j as S}from"./index-Drk3BKBC.js";const B={components:{DatePicker:p},name:"customerForm",data(){return{payment:{validity_start_date:new Date},payment_methods:[{id:"cash",name:"Efectivo"},{id:"transfer",name:"Depósito/Transferencia"}],searching:!1,hascustomer:!1,suggestions:[]}},props:{modelValue:{type:Object,default:{}},autosearch:{type:Boolean,default:!1},errors:{type:Object,default:{}}},methods:{fill(t){this.hascustomer=!0,this.$emit("autosearch",this.suggestions[t]),this.suggestions=[]},onNameInput(t){!this.searching&&t.length>=3&&this.autosearch&&(this.searching=!0,this.$api.get("/customers?filter[name][like]="+t).then(s=>{this.suggestions=s.data}).catch(s=>{}).finally(()=>{this.searching=!1}))},removecustomer(){this.hascustomer=!1,this.$emit("autosearch",{})}},mounted(){this.modelValue.password=""}},a=t=>(I("data-v-9bc4897d"),t=t(),N(),t),D={class:"card"},F={class:"card-body"},x=a(()=>e("p",{class:"card-description"}," Datos del cliente ",-1)),j={class:"row"},M={class:"col-md-6"},W={class:"form-group row"},E=a(()=>e("label",{class:"col-sm-3 col-form-label"},"Nombre",-1)),L={class:"col-sm-9 col-relative"},O={key:0,class:"spinner"},T=a(()=>e("i",{class:"mdi mdi-close-circle-outline"},null,-1)),q=[T],z={key:2,class:"user-suggestions"},A=["onClick"],P=a(()=>e("img",{width:"25px",src:S},null,-1)),G=a(()=>e("br",null,null,-1)),H={class:"form-group row"},J=a(()=>e("label",{class:"col-sm-3 col-form-label"},"Correo",-1)),K={class:"col-sm-9"},Q={class:"form-group row"},R=a(()=>e("label",{class:"col-sm-3 col-form-label"},"Whatsapp",-1)),X={class:"col-sm-9"},Y={class:"col-md-6"},Z={class:"form-group row"},$=a(()=>e("label",{class:"col-sm-3 col-form-label"},"Dirección",-1)),ee={class:"col-sm-9"},oe={class:"form-group"},se={class:"form-group"},le=a(()=>e("div",{class:"row"},[e("div",{class:"col-md-7"}),e("div",{class:"col-md-5"})],-1)),te={class:"row"},ae={class:"col-sm-5"},re={class:"col-sm-7"},de=a(()=>e("br",null,null,-1)),ne=a(()=>e("br",null,null,-1)),ie=a(()=>e("p",{class:"card-description"},"Crea una cuenta",-1)),me={class:"row"},ce={class:"col-md-6"},ue={class:"form-group row"},_e=a(()=>e("label",{class:"col-sm-3 col-form-label"},"Usuario",-1)),he={class:"col-sm-9"},Ve={class:"col-md-6"},ve={class:"form-group row"},fe=a(()=>e("label",{class:"col-sm-3 col-form-label"},"Contraseña",-1)),be={class:"col-sm-9"},ge={class:"form-group"},pe={class:"form-actions"};function we(t,s,o,ye,c,u){const d=V("FormControl"),f=V("router-link"),b=V("SubmitButton");return n(),i("div",D,[e("div",F,[e("form",{class:"form-sample",onSubmit:s[11]||(s[11]=y((...l)=>t.saveModel&&t.saveModel(...l),["prevent"]))},[m(t.$slots,"title",{},()=>[x],!0),e("div",j,[e("div",M,[e("div",W,[E,e("div",L,[this.searching?(n(),i("i",O)):h("",!0),c.hascustomer?(n(),i("a",{key:1,class:"customer-remover",onClick:s[0]||(s[0]=(...l)=>u.removecustomer&&u.removecustomer(...l))},q)):h("",!0),r(d,{type:"text",modelValue:o.modelValue.name,"onUpdate:modelValue":s[1]||(s[1]=l=>o.modelValue.name=l),error:o.errors.name,onInput:u.onNameInput,disabled:c.hascustomer,required:!0},null,8,["modelValue","error","onInput","disabled"]),c.suggestions.length>0?(n(),i("div",z,[(n(!0),i(C,null,k(c.suggestions,(l,g)=>(n(),i("div",{class:"user-suggestion",onClick:Ce=>u.fill(g)},[P,_(" "+v(l.name)+" ",1),G,e("small",null,v(l.address),1)],8,A))),256))])):h("",!0)])]),e("div",H,[J,e("div",K,[r(d,{type:"email",modelValue:o.modelValue.email,"onUpdate:modelValue":s[2]||(s[2]=l=>o.modelValue.email=l),error:o.errors.email},null,8,["modelValue","error"])])]),e("div",Q,[R,e("div",X,[r(d,{type:"tel",modelValue:o.modelValue.mobile,"onUpdate:modelValue":s[3]||(s[3]=l=>o.modelValue.mobile=l),error:o.errors.mobile,placeholder:"-"},null,8,["modelValue","error"])])])]),e("div",Y,[e("div",Z,[$,e("div",ee,[e("div",oe,[r(d,{type:"text",error:o.errors.location,placeholder:"Localidad",modelValue:o.modelValue.location,"onUpdate:modelValue":s[4]||(s[4]=l=>o.modelValue.location=l)},null,8,["error","modelValue"])]),e("div",se,[r(d,{type:"text",error:o.errors.street,placeholder:"Calle",modelValue:o.modelValue.street,"onUpdate:modelValue":s[5]||(s[5]=l=>o.modelValue.street=l)},null,8,["error","modelValue"])]),le,e("div",te,[e("div",ae,[r(d,{type:"text",placeholder:"Número",error:o.errors.number,modelValue:o.modelValue.number,"onUpdate:modelValue":s[6]||(s[6]=l=>o.modelValue.number=l)},null,8,["error","modelValue"])]),e("div",re,[r(d,{type:"text",placeholder:"Cruzamiento(s)",error:o.errors.intersection,modelValue:o.modelValue.intersection,"onUpdate:modelValue":s[7]||(s[7]=l=>o.modelValue.intersection=l)},null,8,["error","modelValue"])])])])])])]),m(t.$slots,"account",{model:o.modelValue},()=>[de,ne,ie,e("div",me,[e("div",ce,[e("div",ue,[_e,e("div",he,[r(d,{type:"text",modelValue:o.modelValue.username,"onUpdate:modelValue":s[8]||(s[8]=l=>o.modelValue.username=l),error:o.errors.username},null,8,["modelValue","error"])])])]),e("div",Ve,[e("div",ve,[fe,e("div",be,[r(d,{type:"password",modelValue:o.modelValue.password,"onUpdate:modelValue":s[9]||(s[9]=l=>o.modelValue.password=l),error:o.errors.password},null,8,["modelValue","error"])])])])])],!0),m(t.$slots,"active",{},()=>[e("div",ge,[e("label",null,[_("Activo "),r(d,{type:"switch",modelValue:o.modelValue.active,"onUpdate:modelValue":s[10]||(s[10]=l=>o.modelValue.active=l)},null,8,["modelValue"])])])],!0),m(t.$slots,"options",{},()=>[e("div",pe,[m(t.$slots,"cancel",{},()=>[r(f,{to:t.autolink(),class:"btn btn-danger btn-icon-text"},{default:U(()=>[_("Cancelar")]),_:1},8,["to"])],!0),_("   "),m(t.$slots,"submit",{},()=>[r(b)],!0)])],!0)],32)])])}const Ie=w(B,[["render",we],["__scopeId","data-v-9bc4897d"]]);export{Ie as f};
